<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RAIL: Sleep</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RAIL
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___sleep.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Sleep<div class="ingroups"><a class="el" href="group___r_a_i_l___a_p_i.html">RAIL API</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Functionality to help when putting the system to an EM2/EM3/EM4 sleep states where the high frequency clock is disabled.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_r_a_i_l___timer_sync_config__t.html">RAIL_TimerSyncConfig_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Channel values used to perform timer sync before and after sleep.  <a href="struct_r_a_i_l___timer_sync_config__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga69fb20743b259f90fb82cb3f9ec104d5"><td class="memItemLeft" align="right" valign="top"><a id="ga69fb20743b259f90fb82cb3f9ec104d5"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sleep.html#ga69fb20743b259f90fb82cb3f9ec104d5">RAIL_TIMER_SYNC_PRS_CHANNEL_DEFAULT</a>&#160;&#160;&#160;(7U)</td></tr>
<tr class="memdesc:ga69fb20743b259f90fb82cb3f9ec104d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default PRS channel to use when configuring sleep. <br /></td></tr>
<tr class="separator:ga69fb20743b259f90fb82cb3f9ec104d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70e8d9b3017d98e4a5dd78c3d3a3185f"><td class="memItemLeft" align="right" valign="top"><a id="ga70e8d9b3017d98e4a5dd78c3d3a3185f"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sleep.html#ga70e8d9b3017d98e4a5dd78c3d3a3185f">RAIL_TIMER_SYNC_RTCC_CHANNEL_DEFAULT</a>&#160;&#160;&#160;(0U)</td></tr>
<tr class="memdesc:ga70e8d9b3017d98e4a5dd78c3d3a3185f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default RTCC channel to use when configuring sleep. <br /></td></tr>
<tr class="separator:ga70e8d9b3017d98e4a5dd78c3d3a3185f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0103c49db4c03562cfb1d180aa2baf28"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sleep.html#ga0103c49db4c03562cfb1d180aa2baf28">RAIL_TIMER_SYNC_DEFAULT</a></td></tr>
<tr class="memdesc:ga0103c49db4c03562cfb1d180aa2baf28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default timer synchronization configuration.  <a href="#ga0103c49db4c03562cfb1d180aa2baf28">More...</a><br /></td></tr>
<tr class="separator:ga0103c49db4c03562cfb1d180aa2baf28"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga5156120c7894fefec8ab74bdb6a827e8"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sleep.html#ga5156120c7894fefec8ab74bdb6a827e8">RAIL_SleepConfig_t</a> { <br />
&#160;&#160;<a class="el" href="group___sleep.html#gga5156120c7894fefec8ab74bdb6a827e8a8c7b1c77420a1015beaa010d26e2c807">RAIL_SLEEP_CONFIG_TIMERSYNC_DISABLED</a>, 
<br />
&#160;&#160;<a class="el" href="group___sleep.html#gga5156120c7894fefec8ab74bdb6a827e8ab858c29bea0a5f24d47ec3b38225893b">RAIL_SLEEP_CONFIG_TIMERSYNC_ENABLED</a>
<br />
 }<tr class="memdesc:ga5156120c7894fefec8ab74bdb6a827e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">The configuration.  <a href="group___sleep.html#ga5156120c7894fefec8ab74bdb6a827e8">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:ga5156120c7894fefec8ab74bdb6a827e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac0bdc2e75ca6994700712a0c3fe1d423"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sleep.html#gac0bdc2e75ca6994700712a0c3fe1d423">RAILCb_ConfigSleepTimerSync</a> (<a class="el" href="struct_r_a_i_l___timer_sync_config__t.html">RAIL_TimerSyncConfig_t</a> *timerSyncConfig)</td></tr>
<tr class="memdesc:gac0bdc2e75ca6994700712a0c3fe1d423"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure RAIL timer synchronization.  <a href="#gac0bdc2e75ca6994700712a0c3fe1d423">More...</a><br /></td></tr>
<tr class="separator:gac0bdc2e75ca6994700712a0c3fe1d423"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa1e47ba12298e3af21680d6d6fe7cfd3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sleep.html#gaa1e47ba12298e3af21680d6d6fe7cfd3">RAIL_ConfigSleep</a> (<a class="el" href="group___general.html#gade1c256898a301054e34aeee015a3582">RAIL_Handle_t</a> railHandle, <a class="el" href="group___sleep.html#ga5156120c7894fefec8ab74bdb6a827e8">RAIL_SleepConfig_t</a> sleepConfig)</td></tr>
<tr class="memdesc:gaa1e47ba12298e3af21680d6d6fe7cfd3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize RAIL timer synchronization.  <a href="#gaa1e47ba12298e3af21680d6d6fe7cfd3">More...</a><br /></td></tr>
<tr class="separator:gaa1e47ba12298e3af21680d6d6fe7cfd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacbae5450a19d8e776e4f3c08adeb2c1a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sleep.html#gacbae5450a19d8e776e4f3c08adeb2c1a">RAIL_ConfigSleepAlt</a> (<a class="el" href="group___general.html#gade1c256898a301054e34aeee015a3582">RAIL_Handle_t</a> railHandle, <a class="el" href="struct_r_a_i_l___timer_sync_config__t.html">RAIL_TimerSyncConfig_t</a> *syncConfig)</td></tr>
<tr class="memdesc:gacbae5450a19d8e776e4f3c08adeb2c1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize RAIL timer synchronization.  <a href="#gacbae5450a19d8e776e4f3c08adeb2c1a">More...</a><br /></td></tr>
<tr class="separator:gacbae5450a19d8e776e4f3c08adeb2c1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7859226adeb8f7f47a1a9230fb56e6ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sleep.html#ga7859226adeb8f7f47a1a9230fb56e6ad">RAIL_Sleep</a> (uint16_t wakeupProcessTime, bool *deepSleepAllowed)</td></tr>
<tr class="memdesc:ga7859226adeb8f7f47a1a9230fb56e6ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the RAIL timer and prepare RAIL for sleep.  <a href="#ga7859226adeb8f7f47a1a9230fb56e6ad">More...</a><br /></td></tr>
<tr class="separator:ga7859226adeb8f7f47a1a9230fb56e6ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7ee28a109ec80256880b21e2b67c51ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sleep.html#ga7ee28a109ec80256880b21e2b67c51ff">RAIL_Wake</a> (<a class="el" href="group___system___timing.html#gac57a9c910008c40760d26fb6ba437c12">RAIL_Time_t</a> elapsedTime)</td></tr>
<tr class="memdesc:ga7ee28a109ec80256880b21e2b67c51ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wake RAIL from sleep and restart the RAIL timer.  <a href="#ga7ee28a109ec80256880b21e2b67c51ff">More...</a><br /></td></tr>
<tr class="separator:ga7ee28a109ec80256880b21e2b67c51ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac712d6ee9b378f6eb9f650477dd09cbf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sleep.html#gac712d6ee9b378f6eb9f650477dd09cbf">RAIL_InitPowerManager</a> (void)</td></tr>
<tr class="memdesc:gac712d6ee9b378f6eb9f650477dd09cbf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize RAIL Power Manager.  <a href="#gac712d6ee9b378f6eb9f650477dd09cbf">More...</a><br /></td></tr>
<tr class="separator:gac712d6ee9b378f6eb9f650477dd09cbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9e7d355cd706342dd4a8ce9e2a2dbb53"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___sleep.html#ga9e7d355cd706342dd4a8ce9e2a2dbb53">RAIL_DeinitPowerManager</a> (void)</td></tr>
<tr class="memdesc:ga9e7d355cd706342dd4a8ce9e2a2dbb53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the RAIL Power Manager.  <a href="#ga9e7d355cd706342dd4a8ce9e2a2dbb53">More...</a><br /></td></tr>
<tr class="separator:ga9e7d355cd706342dd4a8ce9e2a2dbb53"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functionality to help when putting the system to an EM2/EM3/EM4 sleep states where the high frequency clock is disabled. </p>
<p>The RAIL library has its own timebase and the ability to schedule operations into the future. When going to any power mode that disables the HF clock used for the radio (EM2/EM3/EM4) it is important that this timebase is synchronized to a running LFCLK and the chip is set to wakeup before the next scheduled event. If RAIL has not been configured to use the power manager, <a class="el" href="group___sleep.html#ga7859226adeb8f7f47a1a9230fb56e6ad">RAIL_Sleep</a> and <a class="el" href="group___sleep.html#ga7ee28a109ec80256880b21e2b67c51ff">RAIL_Wake</a> must be called for performing this synchronization. If RAIL has been configured to use the power manager, <a class="el" href="group___sleep.html#gac712d6ee9b378f6eb9f650477dd09cbf">RAIL_InitPowerManager</a>, it will automatically perform timer synchronization based on the selected <a class="el" href="struct_r_a_i_l___timer_sync_config__t.html">RAIL_TimerSyncConfig_t</a>. Calls to <a class="el" href="group___sleep.html#ga7859226adeb8f7f47a1a9230fb56e6ad">RAIL_Sleep</a> and <a class="el" href="group___sleep.html#ga7ee28a109ec80256880b21e2b67c51ff">RAIL_Wake</a> are unsupported in such a scenario.</p>
<p>Following example code snippets demonstrate synchronizing the timebase with and without timer synchronization:</p>
<p><b>Sleep with timer synchronization:</b></p>
<p>When sleeping with timer synchronization you must first get the required LFCLK up and running and leave it running across sleep so that the high frequency clock that drives the RAIL time base can be synchronized to it. The <a class="el" href="group___sleep.html#ga7859226adeb8f7f47a1a9230fb56e6ad">RAIL_Sleep()</a> API will also setup a wake event on the timer to wake up wakeupTime before the next timer event so that it can run successfully. See the <a class="el" href="efr32_main.html">EFR32</a> sections on Low-Frequency Clocks and RAIL Timer Synchronization for more setup details.</p>
<p>This is useful for scenarios where you want to maintain packet timestamps across sleep or use the scheduled RX/TX APIs while sleeping in between. It does take more time and code to do this synchronization so if your application does not need this it should be avoided.</p>
<p>Example (without Power Manager): </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rail_8h.html">rail.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rail__types_8h.html">rail_types.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">extern</span> <a class="code" href="group___general.html#gade1c256898a301054e34aeee015a3582">RAIL_Handle_t</a> railHandle;</div><div class="line"><span class="comment">// Wakeup time for your crystal/board/chip combination</span></div><div class="line"><span class="keyword">extern</span> uint32_t wakeupTime;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> main(<span class="keywordtype">void</span>) {</div><div class="line">  <a class="code" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a> status;</div><div class="line">  <span class="keywordtype">bool</span> shouldSleep = <span class="keyword">false</span>;</div><div class="line"></div><div class="line">  <span class="comment">// This function depends on your board/chip but it must enable the LFCLK</span></div><div class="line">  <span class="comment">// you intend to use for RTCC sync before we configure sleep as that function</span></div><div class="line">  <span class="comment">// will attempt to auto detect the clock.</span></div><div class="line">  BoardSetupLFCLK()</div><div class="line"></div><div class="line">  <span class="comment">// Configure sleep for timer synchronization</span></div><div class="line">  status = <a class="code" href="group___sleep.html#gaa1e47ba12298e3af21680d6d6fe7cfd3">RAIL_ConfigSleep</a>(railHandle, <a class="code" href="group___sleep.html#gga5156120c7894fefec8ab74bdb6a827e8ab858c29bea0a5f24d47ec3b38225893b">RAIL_SLEEP_CONFIG_TIMERSYNC_ENABLED</a>);</div><div class="line">  assert(status == <a class="code" href="group___general.html#ggae0d330e2daabbf1988161b4bba1ddef3a9d08f2cf4b5a12507982c72d5b896a02">RAIL_STATUS_NO_ERROR</a>);</div><div class="line"></div><div class="line">  <span class="comment">// Application main loop</span></div><div class="line">  while(1) {</div><div class="line">    <span class="comment">// ... do normal app stuff and set shouldSleep to true when we want to</span></div><div class="line">    <span class="comment">// sleep</span></div><div class="line">    <span class="keywordflow">if</span> (shouldSleep) {</div><div class="line">      <span class="keywordtype">bool</span> sleepAllowed = <span class="keyword">false</span>;</div><div class="line"></div><div class="line">      <span class="comment">// Go critical to assess sleep decisions</span></div><div class="line">      CORE_ENTER_CRITICAL();</div><div class="line">      <span class="keywordflow">if</span> (<a class="code" href="group___sleep.html#ga7859226adeb8f7f47a1a9230fb56e6ad">RAIL_Sleep</a>(wakeupTime, &amp;sleepAllowed) != RAIL_STATUS_NO_ERROR) {</div><div class="line">        printf(<span class="stringliteral">&quot;Error trying to go to sleep!&quot;</span>);</div><div class="line">        CORE_EXIT_CRITICAL();</div><div class="line">        <span class="keywordflow">continue</span>;</div><div class="line">      }</div><div class="line">      <span class="keywordflow">if</span> (sleepAllowed) {</div><div class="line">        <span class="comment">// Go to sleep</span></div><div class="line">      }</div><div class="line">      <span class="comment">// Wakeup and sync the RAIL timebase back up</span></div><div class="line">      <a class="code" href="group___sleep.html#ga7ee28a109ec80256880b21e2b67c51ff">RAIL_Wake</a>(0);</div><div class="line">      CORE_EXIT_CRITICAL();</div><div class="line">    }</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example (with Power Manager): </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rail_8h.html">rail.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rail__types_8h.html">rail_types.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;sl_power_manager.h&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">extern</span> <a class="code" href="group___general.html#gade1c256898a301054e34aeee015a3582">RAIL_Handle_t</a> railHandle;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> main(<span class="keywordtype">void</span>) {</div><div class="line">  <a class="code" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a> status;</div><div class="line">  <span class="keywordtype">bool</span> shouldSleep = <span class="keyword">false</span>;</div><div class="line"></div><div class="line">  <span class="comment">// This function depends on your board/chip but it must enable the LFCLK</span></div><div class="line">  <span class="comment">// you intend to use for RTCC sync before we configure sleep as that function</span></div><div class="line">  <span class="comment">// will attempt to auto detect the clock.</span></div><div class="line">  BoardSetupLFCLK();</div><div class="line">  <span class="comment">// Configure sleep for timer synchronization</span></div><div class="line">  status = <a class="code" href="group___sleep.html#gaa1e47ba12298e3af21680d6d6fe7cfd3">RAIL_ConfigSleep</a>(railHandle, RAIL_SLEEP_CONFIG_TIMERSYNC_ENABLED);</div><div class="line">  assert(status == RAIL_STATUS_NO_ERROR);</div><div class="line">  <span class="comment">// Initialize application-level power manager service</span></div><div class="line">  sl_power_manager_init();</div><div class="line">  <span class="comment">// Initialize RAIL library&#39;s use of the power manager</span></div><div class="line">  <a class="code" href="group___sleep.html#gac712d6ee9b378f6eb9f650477dd09cbf">RAIL_InitPowerManager</a>();</div><div class="line"></div><div class="line">  <span class="comment">// Application main loop</span></div><div class="line">  <span class="keywordflow">while</span>(1) {</div><div class="line">    <span class="comment">// ... do normal app stuff and set shouldSleep to true when we want to</span></div><div class="line">    <span class="comment">// sleep</span></div><div class="line">    <span class="keywordflow">if</span> (shouldSleep) {</div><div class="line">      <span class="comment">// Let the CPU go to sleep if the system allows it.</span></div><div class="line">      sl_power_manager_sleep();</div><div class="line">    }</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>RAIL APIs such as, <a class="el" href="group___transmit.html#gad8e2ae1cf1fe8ebea8daf8eda687559f">RAIL_StartScheduledTx</a>, <a class="el" href="group___receive.html#ga6da1e7a5a018eb25ea08067ad66834bb">RAIL_ScheduleRx</a>, <a class="el" href="group___system___timing.html#gab368c54c742558f81fb382f054c7bd38">RAIL_SetTimer</a>, <a class="el" href="group___system___timing.html#gac6aa9cff8b6bfe2fd606e4ca78bbe8c1">RAIL_SetMultiTimer</a> can be used to schedule periodic wakeups to perform a scheduled operation. The call to sl_power_manager_sleep() in the main loop ensures that the device sleeps until the scheduled operation is due. Upon completion, each instantaneous or scheduled RX/TX operation will indicate radio busy to the power manager, to allow the application to service the RAIL event and perform subsequent operations before going to sleep. Thus it is important that the application idle the radio by either calling <a class="el" href="group___state___transitions.html#ga5859aec2a23b30d13a3a436a551aea05">RAIL_Idle</a> or <a class="el" href="group___multiprotocol.html#ga9c167ba465ba7783207a1c3eb75e21d5">RAIL_YieldRadio</a>. If the radio transitions to RX after an RX or TX operation then one must always call <a class="el" href="group___state___transitions.html#ga5859aec2a23b30d13a3a436a551aea05">RAIL_Idle</a> in order transition to a lower sleep state. If the radio transitions to idle after an RX or TX operation then <a class="el" href="group___multiprotocol.html#ga9c167ba465ba7783207a1c3eb75e21d5">RAIL_YieldRadio</a> should suffice in indicating to the power manager that the radio is no longer busy and the device can sleep.</p>
<p>Following example shows scheduling periodic TX on getting a TX completion event: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> RAILCb_Event(<a class="code" href="group___general.html#gade1c256898a301054e34aeee015a3582">RAIL_Handle_t</a> railHandle, <a class="code" href="group___events.html#ga1559b73de83c34b15369bd0be4429a45">RAIL_Events_t</a> events) {</div><div class="line">  <span class="comment">// Omitting other event handlers</span></div><div class="line">  <span class="keywordflow">if</span> (events &amp; <a class="code" href="group___events.html#ga991a4046229b44f2defb7e11bdd82ed8">RAIL_EVENTS_TX_COMPLETION</a>) {</div><div class="line">    <span class="comment">// Schedule the next TX.</span></div><div class="line">    <a class="code" href="struct_r_a_i_l___schedule_tx_config__t.html">RAIL_ScheduleTxConfig_t</a> config = {</div><div class="line">      .<a class="code" href="struct_r_a_i_l___schedule_tx_config__t.html#a188d0c6acc6e6dc0a4d1428bb29832e0">when</a> = (<a class="code" href="group___system___timing.html#gac57a9c910008c40760d26fb6ba437c12">RAIL_Time_t</a>)parameters-&gt;startTime,</div><div class="line">      .mode = (<a class="code" href="group___system___timing.html#ga07e1cc301108c498ac7f4fb80c369c13">RAIL_TimeMode_t</a>)parameters-&gt;startTimeMode</div><div class="line">    };</div><div class="line">    (void)<a class="code" href="group___transmit.html#gad8e2ae1cf1fe8ebea8daf8eda687559f">RAIL_StartScheduledTx</a>(radio.handle, channel, 0, &amp;config, NULL);</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The above code assumes that RAIL automatic state transitions after TX are idle. Set <a class="el" href="group___state___transitions.html#ga517201578ed9dae95f0088d7e76591a0">RAIL_SetTxTransitions</a> to ensure the right state transitions. Radio must be idle for the device to enter EM2 or lower energy mode.</dd>
<dd>
When using the power manager, usage of <a class="el" href="group___multiprotocol.html#ga9c167ba465ba7783207a1c3eb75e21d5">RAIL_YieldRadio</a> in single protocol RAIL is similar to its usage in multiprotocol RAIL. See <a class="el" href="rail_multiprotocol.html#rail_radio_scheduler_yield">Yielding the radio</a> for more details.</dd>
<dd>
Back to back scheduled operations do not require an explicit call to <a class="el" href="group___multiprotocol.html#ga9c167ba465ba7783207a1c3eb75e21d5">RAIL_YieldRadio</a> if the radio transitions to idle.</dd></dl>
<p><b>Sleep without timer synchronization:</b></p>
<p>When sleeping without timer synchronization you are free to enable only the LFCLK's and wake sources required by the application. RAIL will not attempt to configure any wake events and may miss anything that occurs over sleep.</p>
<p>This is useful for scenarios where your application does not care about packet timestamps or scheduling operations accurately over sleep.</p>
<p>Example (without Power Manager): </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rail_8h.html">rail.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rail__types_8h.html">rail_types.h</a>&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">extern</span> <a class="code" href="group___general.html#gade1c256898a301054e34aeee015a3582">RAIL_Handle_t</a> railHandle;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> main(<span class="keywordtype">void</span>) {</div><div class="line">  <a class="code" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a> status;</div><div class="line">  <span class="keywordtype">bool</span> shouldSleep = <span class="keyword">false</span>;</div><div class="line"></div><div class="line">  <span class="comment">// Configure sleep for timer synchronization</span></div><div class="line">  status = <a class="code" href="group___sleep.html#gaa1e47ba12298e3af21680d6d6fe7cfd3">RAIL_ConfigSleep</a>(railHandle, <a class="code" href="group___sleep.html#gga5156120c7894fefec8ab74bdb6a827e8a8c7b1c77420a1015beaa010d26e2c807">RAIL_SLEEP_CONFIG_TIMERSYNC_DISABLED</a>);</div><div class="line">  assert(status == RAIL_STATUS_NO_ERROR);</div><div class="line"></div><div class="line">  <span class="comment">// Application main loop</span></div><div class="line">  <span class="keywordflow">while</span>(1) {</div><div class="line">    <span class="comment">// ... do normal app stuff and set shouldSleep to true when we want to</span></div><div class="line">    <span class="comment">// sleep</span></div><div class="line">    <span class="keywordflow">if</span> (shouldSleep) {</div><div class="line">      <span class="keywordtype">bool</span> sleepAllowed = <span class="keyword">false</span>;</div><div class="line">      uint32_t sleepTime = 0;</div><div class="line"></div><div class="line">      <span class="comment">// Go critical to assess sleep decisions</span></div><div class="line">      CORE_ENTER_CRITICAL();</div><div class="line">      <span class="keywordflow">if</span> (<a class="code" href="group___sleep.html#ga7859226adeb8f7f47a1a9230fb56e6ad">RAIL_Sleep</a>(0, &amp;sleepAllowed) != RAIL_STATUS_NO_ERROR) {</div><div class="line">        printf(<span class="stringliteral">&quot;Error trying to go to sleep!&quot;</span>);</div><div class="line">        CORE_EXIT_CRITICAL();</div><div class="line">        <span class="keywordflow">continue</span>;</div><div class="line">      }</div><div class="line">      <span class="keywordflow">if</span> (sleepAllowed) {</div><div class="line">        <span class="comment">// Go to sleep and optionally update sleepTime to the correct value</span></div><div class="line">        <span class="comment">// in microseconds</span></div><div class="line">      }</div><div class="line">      <span class="comment">// Wakeup and sync the RAIL timebase back up</span></div><div class="line">      <a class="code" href="group___sleep.html#ga7ee28a109ec80256880b21e2b67c51ff">RAIL_Wake</a>(sleepTime);</div><div class="line">      CORE_EXIT_CRITICAL();</div><div class="line">    }</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --><p>Example (with Power Manager): </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rail_8h.html">rail.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="rail__types_8h.html">rail_types.h</a>&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;sl_power_manager.h&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">extern</span> <a class="code" href="group___general.html#gade1c256898a301054e34aeee015a3582">RAIL_Handle_t</a> railHandle;</div><div class="line"></div><div class="line"><span class="keywordtype">void</span> main(<span class="keywordtype">void</span>) {</div><div class="line">  <a class="code" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a> status;</div><div class="line">  <span class="keywordtype">bool</span> shouldSleep = <span class="keyword">false</span>;</div><div class="line"></div><div class="line">  <span class="comment">// This function depends on your board/chip but it must enable the LFCLK</span></div><div class="line">  <span class="comment">// you intend to use for RTCC sync before we configure sleep as that function</span></div><div class="line">  <span class="comment">// will attempt to auto detect the clock.</span></div><div class="line">  BoardSetupLFCLK();</div><div class="line">  <span class="comment">// Configure sleep for timer synchronization</span></div><div class="line">  status = <a class="code" href="group___sleep.html#gaa1e47ba12298e3af21680d6d6fe7cfd3">RAIL_ConfigSleep</a>(railHandle, <a class="code" href="group___sleep.html#gga5156120c7894fefec8ab74bdb6a827e8a8c7b1c77420a1015beaa010d26e2c807">RAIL_SLEEP_CONFIG_TIMERSYNC_DISABLED</a>);</div><div class="line">  assert(status == RAIL_STATUS_NO_ERROR);</div><div class="line">  <span class="comment">// Initialize application-level power manager service</span></div><div class="line">  sl_power_manager_init();</div><div class="line">  <span class="comment">// Initialize RAIL library&#39;s use of the power manager</span></div><div class="line">  <a class="code" href="group___sleep.html#gac712d6ee9b378f6eb9f650477dd09cbf">RAIL_InitPowerManager</a>();</div><div class="line"></div><div class="line">  <span class="comment">// Application main loop</span></div><div class="line">  <span class="keywordflow">while</span>(1) {</div><div class="line">    <span class="comment">// ... do normal app stuff and set shouldSleep to true when we want to</span></div><div class="line">    <span class="comment">// sleep</span></div><div class="line">    <span class="keywordflow">if</span> (shouldSleep) {</div><div class="line">      <span class="comment">// Let the CPU go to sleep if the system allows it.</span></div><div class="line">      sl_power_manager_sleep();</div><div class="line">    }</div><div class="line">  }</div><div class="line">}</div></div><!-- fragment --> <h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga0103c49db4c03562cfb1d180aa2baf28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0103c49db4c03562cfb1d180aa2baf28">&#9670;&nbsp;</a></span>RAIL_TIMER_SYNC_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RAIL_TIMER_SYNC_DEFAULT</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{         \</div><div class="line">    RAIL_TIMER_SYNC_PRS_CHANNEL_DEFAULT,  \</div><div class="line">    RAIL_TIMER_SYNC_RTCC_CHANNEL_DEFAULT, \</div><div class="line">    RAIL_SLEEP_CONFIG_TIMERSYNC_ENABLED,  \</div><div class="line">}</div></div><!-- fragment -->
<p>Default timer synchronization configuration. </p>

<p class="definition">Definition at line <a class="el" href="rail__chip__specific_8h_source.html#l00949">949</a> of file <a class="el" href="rail__chip__specific_8h_source.html">rail_chip_specific.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga5156120c7894fefec8ab74bdb6a827e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5156120c7894fefec8ab74bdb6a827e8">&#9670;&nbsp;</a></span>RAIL_SleepConfig_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___sleep.html#ga5156120c7894fefec8ab74bdb6a827e8">RAIL_SleepConfig_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The configuration. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga5156120c7894fefec8ab74bdb6a827e8a8c7b1c77420a1015beaa010d26e2c807"></a>RAIL_SLEEP_CONFIG_TIMERSYNC_DISABLED&#160;</td><td class="fielddoc"><p>Disable timer sync before and after sleep. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga5156120c7894fefec8ab74bdb6a827e8ab858c29bea0a5f24d47ec3b38225893b"></a>RAIL_SLEEP_CONFIG_TIMERSYNC_ENABLED&#160;</td><td class="fielddoc"><p>Enable timer sync before and after sleep. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="rail__types_8h_source.html#l00344">344</a> of file <a class="el" href="rail__types_8h_source.html">rail_types.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaa1e47ba12298e3af21680d6d6fe7cfd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa1e47ba12298e3af21680d6d6fe7cfd3">&#9670;&nbsp;</a></span>RAIL_ConfigSleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a> RAIL_ConfigSleep </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___general.html#gade1c256898a301054e34aeee015a3582">RAIL_Handle_t</a>&#160;</td>
          <td class="paramname"><em>railHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___sleep.html#ga5156120c7894fefec8ab74bdb6a827e8">RAIL_SleepConfig_t</a>&#160;</td>
          <td class="paramname"><em>sleepConfig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize RAIL timer synchronization. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">railHandle</td><td>A RAIL instance handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sleepConfig</td><td>A sleep configuration.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code indicating success of the function call. </dd></dl>

</div>
</div>
<a id="gacbae5450a19d8e776e4f3c08adeb2c1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacbae5450a19d8e776e4f3c08adeb2c1a">&#9670;&nbsp;</a></span>RAIL_ConfigSleepAlt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a> RAIL_ConfigSleepAlt </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___general.html#gade1c256898a301054e34aeee015a3582">RAIL_Handle_t</a>&#160;</td>
          <td class="paramname"><em>railHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_r_a_i_l___timer_sync_config__t.html">RAIL_TimerSyncConfig_t</a> *&#160;</td>
          <td class="paramname"><em>syncConfig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize RAIL timer synchronization. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">railHandle</td><td>A RAIL instance handle. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">syncConfig</td><td>A pointer to the timer synchronization configuration.</td></tr>
  </table>
  </dd>
</dl>
<p>The default structure used to enable timer synchronization across sleep is <a class="el" href="group___sleep.html#ga0103c49db4c03562cfb1d180aa2baf28">RAIL_TIMER_SYNC_DEFAULT</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>Status code indicating success of the function call. </dd></dl>

</div>
</div>
<a id="ga9e7d355cd706342dd4a8ce9e2a2dbb53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9e7d355cd706342dd4a8ce9e2a2dbb53">&#9670;&nbsp;</a></span>RAIL_DeinitPowerManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a> RAIL_DeinitPowerManager </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the RAIL Power Manager. </p>
<dl class="section return"><dt>Returns</dt><dd>Status code indicating success of the function call.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The active RAIL configuration must be idle to disable radio power manager and there should be no outstanding requirements by radio power manager. </dd></dl>

</div>
</div>
<a id="gac712d6ee9b378f6eb9f650477dd09cbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac712d6ee9b378f6eb9f650477dd09cbf">&#9670;&nbsp;</a></span>RAIL_InitPowerManager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a> RAIL_InitPowerManager </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize RAIL Power Manager. </p>
<dl class="section return"><dt>Returns</dt><dd>Status code indicating success of the function call.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function should be called only when the application is built and initialized with Power Manager plugin. RAIL will perform timer synchronization, upon transitioning from EM2 or lower to EM1 or higher energy mode or vice-versa, in the Power Manager EM transition callback. Since EM transition callbacks are not called in a deterministic order, it is suggested to not call any RAIL time dependent APIs in an EM transition callback. </dd></dl>

</div>
</div>
<a id="ga7859226adeb8f7f47a1a9230fb56e6ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7859226adeb8f7f47a1a9230fb56e6ad">&#9670;&nbsp;</a></span>RAIL_Sleep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a> RAIL_Sleep </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>wakeupProcessTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>deepSleepAllowed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop the RAIL timer and prepare RAIL for sleep. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">wakeupProcessTime</td><td>Time in microseconds that the application and hardware need to recover from sleep state. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">deepSleepAllowed</td><td>true - system can go to deep sleep. false - system should not go to deep sleep. Deep sleep should be blocked in this case.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code indicating success of the function call.</dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The active RAIL configuration must be idle to enable sleep.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>This API must not be called if RAIL Power Manager is initialized. </dd></dl>

</div>
</div>
<a id="ga7ee28a109ec80256880b21e2b67c51ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7ee28a109ec80256880b21e2b67c51ff">&#9670;&nbsp;</a></span>RAIL_Wake()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group___general.html#gae0d330e2daabbf1988161b4bba1ddef3">RAIL_Status_t</a> RAIL_Wake </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group___system___timing.html#gac57a9c910008c40760d26fb6ba437c12">RAIL_Time_t</a>&#160;</td>
          <td class="paramname"><em>elapsedTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wake RAIL from sleep and restart the RAIL timer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">elapsedTime</td><td>Add the sleep duration to the RAIL timer before restarting the RAIL timer.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status code indicating success of the function call.</dd></dl>
<p>If the timer sync was enabled by <a class="el" href="group___sleep.html#gaa1e47ba12298e3af21680d6d6fe7cfd3">RAIL_ConfigSleep</a>, synchronize the RAIL timer using an alternate timer. Otherwise, add elapsedTime to the RAIL timer.</p>
<dl class="section note"><dt>Note</dt><dd>This API must not be called if RAIL Power Manager is initialized. </dd></dl>

</div>
</div>
<a id="gac0bdc2e75ca6994700712a0c3fe1d423"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac0bdc2e75ca6994700712a0c3fe1d423">&#9670;&nbsp;</a></span>RAILCb_ConfigSleepTimerSync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RAILCb_ConfigSleepTimerSync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_r_a_i_l___timer_sync_config__t.html">RAIL_TimerSyncConfig_t</a> *&#160;</td>
          <td class="paramname"><em>timerSyncConfig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure RAIL timer synchronization. </p>
<p>This function is optional to implement.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">timerSyncConfig</td><td>A pointer to the <a class="el" href="struct_r_a_i_l___timer_sync_config__t.html">RAIL_TimerSyncConfig_t</a> structure containing the configuration parameters for timer sync. The <a class="el" href="struct_r_a_i_l___timer_sync_config__t.html#abe02f59263b2cb720a0c190d7d017ecd">RAIL_TimerSyncConfig_t::sleep</a> field is ignored in this call.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is called during <a class="el" href="group___sleep.html#gaa1e47ba12298e3af21680d6d6fe7cfd3">RAIL_ConfigSleep</a> to allow an application to configure the PRS and RTCC channels used for timer sync to values other than their defaults. The default channels are populated in timerSyncConfig and can be overwritten by the application. If this function is not implemented by the application, a default implementation from within the RAIL library will be used that simply maintains the default channel values in timerSyncConfig.</p>
<p>If an unsupported channel is selected by the application, <a class="el" href="group___sleep.html#gaa1e47ba12298e3af21680d6d6fe7cfd3">RAIL_ConfigSleep</a> will return <a class="el" href="group___general.html#ggae0d330e2daabbf1988161b4bba1ddef3a57e7dc36f3bfaceb0dff3a8104b3cb63">RAIL_STATUS_INVALID_PARAMETER</a>.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="group___sleep.html#gac0bdc2e75ca6994700712a0c3fe1d423">RAILCb_ConfigSleepTimerSync</a>(<a class="code" href="struct_r_a_i_l___timer_sync_config__t.html">RAIL_TimerSyncConfig_t</a> *timerSyncConfig)</div><div class="line">{</div><div class="line">  timerSyncConfig-&gt;<a class="code" href="struct_r_a_i_l___timer_sync_config__t.html#a1d18f06bc27ed1b3d3ad1163aaa3b384">prsChannel</a> = MY_TIMERSYNC_PRS_CHANNEL;</div><div class="line">  timerSyncConfig-&gt;<a class="code" href="struct_r_a_i_l___timer_sync_config__t.html#a4cd28cc78376224f951a0507ea7329a9">rtccChannel</a> = MY_TIMERSYNC_RTCC_CHANNEL;</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Apr 5 2021 19:35:24 for RAIL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
